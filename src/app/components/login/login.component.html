<div class="flip-container" #flipcontainer>
  <div class="flipper">
    <div class="front">
        <ion-card>
            <ion-card-content>
              <form [formGroup]="loginForm" (ngSubmit)="login()">
        
                <ion-item lines="none">
                  <ion-label position="stacked">Email</ion-label>
                  <ion-input type="email" placeholder="john@doe.com" formControlName="email"></ion-input>
                  <div *ngIf="(loginEmail.dirty || loginEmail.touched) && loginEmail.errors" class="errors">
                    <span *ngIf="loginEmail.errors?.required">Email is required</span>
                    <span *ngIf="loginEmail.errors?.email">Email is invalid</span>
                  </div>
                </ion-item>

        
                <ion-item lines="none">
                  <ion-label position="stacked">Password</ion-label>
                  <ion-input type="password" formControlName="password"></ion-input>
                  <div *ngIf="(loginPassword.dirty || loginPassword.touched) && loginPassword.errors" class="errors">
                    <span *ngIf="loginPassword.errors?.required">Password is required</span>
                    <span *ngIf="loginPassword.errors?.minlength">Password needs to be 6 characters</span>
                  </div>
                </ion-item>

                <ion-button expand="block" type="submit" color="primary" [disabled]="!loginForm.valid"
                class="ion-padding-horizontal ion-margin-vertical">
              Sign in
              </ion-button>
   
                <ion-button expand="block" type="button" color="secondary" fill="outline"
                class="ion-padding-horizontal ion-margin-vertical" (click)="toggleRegister()">
              Create Account
              </ion-button>
              </form>
            </ion-card-content>
          </ion-card>
    </div>

    <div class="back">
        <ion-card>
            <ion-card-header>
              <ion-card-title>New Account</ion-card-title>
            </ion-card-header>
            <ion-card-content>
              <form [formGroup]="registerForm" (ngSubmit)="register()">
        
                <ion-item lines="none">
                  <ion-label position="stacked">Email</ion-label>
                  <ion-input type="email" placeholder="john@doe.com" formControlName="email"></ion-input>
                  <div *ngIf="(registerEmail.dirty || registerEmail.touched) && registerEmail.errors" class="errors">
                    <span *ngIf="registerEmail.errors?.required">Email is required</span>
                    <span *ngIf="registerEmail.errors?.email">Email is invalid</span>
                  </div>
                </ion-item>
        
                <ion-item lines="none">
                  <ion-label position="stacked">Name</ion-label>
                  <ion-input placeholder="John" formControlName="name"></ion-input>
                  <div *ngIf="(registerName.dirty || registerName.touched) && registerName.errors" class="errors">
                    <span *ngIf="registerName.errors?.required">Name is required</span>
                  </div>
                </ion-item>
        
                <ion-item lines="none">
                  <ion-label position="stacked">Password</ion-label>
                  <ion-input type="password" formControlName="password"></ion-input>
                  <div *ngIf="(registerPassword.dirty || registerPassword.touched) && registerPassword.errors" class="errors">
                    <span *ngIf="registerPassword.errors?.required">Password is required</span>
                    <span *ngIf="registerPassword.errors?.minlength">Password needs to be 6 characters</span>
                  </div>
                </ion-item>
        
                <ion-button expand="block" type="submit" class="ion-padding-horizontal ion-margin-vertical"
                [disabled]="!registerForm.valid">
                  Register
                </ion-button>

                <ion-button expand="block" type="button" color="secondary" fill="clear"
                class="ion-padding-horizontal ion-margin-vertical" (click)="toggleRegister()">
                <ion-icon name="arrow-back" slot="start"></ion-icon>
              Back to Login
              </ion-button>

              <ion-button expand="block" type="button" color="tertiary" fill="clear"
                class="ion-padding-horizontal ion-margin-vertical" (click)="sendPasswordReset()">
              Forgot Password?
              </ion-button>
              
              </form>
            </ion-card-content>
          </ion-card>
    </div>
  </div>
</div>
